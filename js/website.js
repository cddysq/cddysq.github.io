let errorCount=0;const BODY=document.getElementsByTagName("body")[0];function requestHitokoto(){fetch("https://v1.hitokoto.cn").then(t=>t.json()).then(t=>{$("#hitokoto_content").text(t.hitokoto);var e=t.from||"无名氏";$("#hitokoto_author").text("—— "+(t.from_who||"")+"「"+e+"」"),window.setTimeout(requestHitokoto,1e4),reloadAnimation()}).catch(function(t){console.error(`在更新一言时捕获错误， 错误信息: ${t.message}. 当前时间: ${(new Date).toISOString()}`),errorCount<10&&(errorCount++,requestHitokoto())})}function ghostAnimation(){const e=$(document).width(),o=$(document).height();let n,i;$(document).mousemove(function(t){i=t.pageX/-e,xAxis=100*-i-100,n=t.pageY,yAxis=(o/2-n)/o*300,$(".box-ghost-eyes").css({transform:"translate("+xAxis+"%,-"+yAxis+"%)"})})}function reloadAnimation(){let t=document.getElementById("hitokoto");t.classList.remove("fadeIn"),t.offsetWidth,t.classList.add("fadeIn")}function siteTime(){var t=36e5,e=24*t;const o=new Date;var n=o.getFullYear(),i=o.getMonth()+1,s=o.getDate(),a=o.getHours(),r=o.getMinutes(),c=o.getSeconds(),u=Date.UTC(2017,1,4,0,0,0,0),s=Date.UTC(n,i,s,a,r,c)-u,a=Math.floor(s/31536e6),r=Math.floor(s/e-365*a),c=Math.floor((s-(365*a+r)*e)/t),u=Math.floor((s-(365*a+r)*e-c*t)/6e4),t=Math.floor((s-(365*a+r)*e-c*t-6e4*u)/1e3);$("#website-time").html(" Run for "+a+" Year "+r+" Days "+c+" Hours "+u+" m "+t+" s"),window.setTimeout(siteTime,1e3)}function fix404Bug(){let e=$(".site-nav .menu-item-links").children();e.click(function(t){e.removeAttr("data-pjax-state"),window.location.href=this.href})}window.onload=function(){switch($("#website-js").attr("code")){case"404":requestHitokoto(),ghostAnimation();break;case"all":siteLoad();break;default:console.log("This is a world of nothingness, please contact me")}};const siteLoad=function(){siteTime(),fix404Bug(),addScript("/js/dom.js"),postBeauty()};function postBeauty(){let t=document.getElementsByClassName("article-body")[0];t&&t.addEventListener("copy",function(t){showTip(LOCAL.copyright,"tip"),t.preventDefault()})}function showTip(t,e){var o;t&&(o=BODY.createChild("div",{innerHTML:t,className:e}),setTimeout(function(){o.addClass("hide"),setTimeout(function(){BODY.removeChild(o)},300)},3e3))}function addScript(t){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)}